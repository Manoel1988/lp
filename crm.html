<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CRM - Pipeline de Leads</title>
  <link rel="stylesheet" href="styles.css">
  <style>
    body { 
      background: #0f172a; 
      color: #fff; 
      margin: 0;
      padding: 20px;
      font-family: Segoe UI, Tahoma, Geneva, Verdana, sans-serif;
    }
    
    .crm-container { 
      max-width: 1400px; 
      margin: 0 auto; 
      background: #1e293b; 
      border-radius: 18px; 
      box-shadow: 0 4px 24px rgba(0,0,0,0.12); 
      padding: 32px 24px; 
    }
    
    h1 { 
      text-align: center; 
      font-size: 2.2rem; 
      margin-bottom: 32px; 
      color: #fbbf24;
    }
    
    .back-btn { 
      display: block; 
      margin: 0 auto 24px auto; 
      background: #fbbf24; 
      color: #1e293b; 
      border: none; 
      border-radius: 8px; 
      padding: 12px 28px; 
      font-size: 1rem; 
      font-weight: 700; 
      cursor: pointer; 
      transition: background 0.2s; 
      text-align: center; 
      text-decoration: none; 
    }
    
    .back-btn:hover { 
      background: #f59e0b; 
    }
    
    /* Pipeline Kanban */
    .pipeline-container {
      display: flex;
      gap: 20px;
      overflow-x: auto;
      padding: 20px;
    }
    
    .pipeline-column {
      min-width: 300px;
      background: #273548;
      border-radius: 12px;
      padding: 20px;
      flex-shrink: 0;
    }
    
    .column-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
      padding-bottom: 10px;
      border-bottom: 2px solid #334155;
    }
    
    .column-title {
      font-size: 1.2rem;
      font-weight: 700;
      color: #fbbf24;
    }
    
    .column-count {
      background: #475569;
      color: #fff;
      padding: 4px 12px;
      border-radius: 20px;
      font-size: 0.9rem;
      font-weight: 600;
    }
    
    .lead-card {
      background: #334155;
      border-radius: 8px;
      padding: 16px;
      margin-bottom: 12px;
      border-left: 4px solid #fbbf24;
      transition: all 0.3s ease;
      cursor: pointer;
    }
    
    .lead-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
      border-left-color: #f59e0b;
    }
    
    .lead-name {
      font-weight: 700;
      font-size: 1.1rem;
      margin-bottom: 8px;
      color: #fbbf24;
    }
    
    .lead-email {
      color: #cbd5e1;
      font-size: 0.9rem;
      margin-bottom: 4px;
    }
    
    .lead-phone {
      color: #94a3b8;
      font-size: 0.9rem;
      margin-bottom: 8px;
    }
    
    .lead-date {
      color: #64748b;
      font-size: 0.8rem;
      font-style: italic;
    }
    
    .lead-actions {
      display: flex;
      justify-content: flex-end;
      margin-top: 8px;
      gap: 4px;
    }
    
    .delete-lead-btn {
      background: #ef4444;
      color: white;
      border: none;
      border-radius: 4px;
      padding: 4px 8px;
      font-size: 0.75rem;
      cursor: pointer;
      transition: background 0.2s;
    }
    
    .delete-lead-btn:hover {
      background: #dc2626;
    }
    
    .no-leads {
      text-align: center;
      color: #64748b;
      font-style: italic;
      padding: 20px;
    }
    
    .debug-info {
      background: #334155;
      color: #fff;
      padding: 16px;
      border-radius: 8px;
      margin: 16px 0;
      font-family: monospace;
      font-size: 0.9em;
    }
    
    @media (max-width: 768px) {
      .pipeline-container {
        flex-direction: column;
      }
      
      .pipeline-column {
        min-width: auto;
      }
      
      .crm-container {
        padding: 16px 2px;
      }
    }
  </style>
</head>
<body>
  <div class="crm-container">
    <a href="index.html" class="back-btn">Voltar para Landing Page</a>
    <h1>Pipeline de Leads</h1>
    
    <!-- Se√ß√£o de Analytics -->
    <div class="analytics-section">
      <h2 style="color: #fbbf24; margin-bottom: 20px;">üìä Analytics - Visitas Di√°rias</h2>
      
      <!-- Filtros -->
      <div class="analytics-filters" style="margin-bottom: 20px;">
        <select id="periodoSelect" style="background: #334155; color: #fff; border: 1px solid #475569; border-radius: 6px; padding: 8px 12px; margin-right: 10px;">
          <option value="7">√öltimos 7 dias</option>
          <option value="30" selected>√öltimos 30 dias</option>
          <option value="90">√öltimos 90 dias</option>
        </select>
        <button id="refreshAnalytics" style="background: #fbbf24; color: #1e293b; border: none; border-radius: 6px; padding: 8px 16px; font-weight: 600; cursor: pointer;">üîÑ Atualizar</button>
      </div>
      
      <!-- Cards de Resumo -->
      <div class="analytics-summary" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 30px;">
        <div class="summary-card" style="background: #334155; border-radius: 12px; padding: 20px; text-align: center;">
          <h3 style="color: #fbbf24; margin: 0 0 10px 0; font-size: 1.1rem;">Total de Visitas</h3>
          <div id="totalVisitas" style="font-size: 2rem; font-weight: 700; color: #fff;">-</div>
        </div>
        <div class="summary-card" style="background: #334155; border-radius: 12px; padding: 20px; text-align: center;">
          <h3 style="color: #fbbf24; margin: 0 0 10px 0; font-size: 1.1rem;">M√©dia Di√°ria</h3>
          <div id="mediaDiaria" style="font-size: 2rem; font-weight: 700; color: #fff;">-</div>
        </div>
        <div class="summary-card" style="background: #334155; border-radius: 12px; padding: 20px; text-align: center;">
          <h3 style="color: #fbbf24; margin: 0 0 10px 0; font-size: 1.1rem;">Dispositivo Mais Usado</h3>
          <div id="dispositivoTop" style="font-size: 1.5rem; font-weight: 700; color: #fff;">-</div>
        </div>
      </div>
      
      <!-- Gr√°fico de Visitas -->
              <div class="chart-container" style="background: #334155; border-radius: 12px; padding: 20px; margin-bottom: 30px;">
          <h3 style="color: #fbbf24; margin: 0 0 20px 0;">Visitas por Dia</h3>
          <div style="height: 200px; position: relative;">
            <canvas id="visitasChart"></canvas>
          </div>
        </div>
      
      <!-- Estat√≠sticas por Dispositivo -->
      <div class="device-stats" style="background: #334155; border-radius: 12px; padding: 20px; margin-bottom: 30px;">
        <h3 style="color: #fbbf24; margin: 0 0 20px 0;">Visitas por Dispositivo</h3>
        <div id="deviceStats" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px;"></div>
      </div>
      
      <!-- Top Referrers -->
      <div class="referrer-stats" style="background: #334155; border-radius: 12px; padding: 20px;">
        <h3 style="color: #fbbf24; margin: 0 0 20px 0;">Principais Fontes de Tr√°fego</h3>
        <div id="referrerStats"></div>
      </div>
    </div>
    
    <div class="pipeline-container" id="pipelineContainer"></div>
    <button id="addColumnBtn" style="margin: 24px auto 0 auto; display: block; background: #fbbf24; color: #1e293b; border: none; border-radius: 8px; padding: 12px 28px; font-size: 1rem; font-weight: 700; cursor: pointer;">+ Adicionar coluna</button>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="page_views_tracking.js"></script>
  <script>
    const supabaseUrl = 'https://wwnylounipjlxjxyopnf.supabase.co';
    const supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind3bnlsb3VuaXBqbHhqeHlvcG5mIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQyMTg5ODEsImV4cCI6MjA1OTc5NDk4MX0.p9KB50Srt7vyvZNc0pFXycvsQivnB0x4H8TdScNRKiU';
    let supabase;
    function updateDebugInfo(message) {
      const debugStatus = document.getElementById('debugStatus');
      if (debugStatus) debugStatus.textContent = message;
      console.log('DEBUG:', message);
    }
    function initSupabaseCRM() {
      if (window.supabase && window.supabase.createClient) {
        supabase = window.supabase.createClient(supabaseUrl, supabaseKey);
        updateDebugInfo('‚úÖ Supabase inicializado!');
        return true;
      } else {
        updateDebugInfo('‚ùå Supabase n√£o est√° dispon√≠vel!');
        return false;
      }
    }
    initSupabaseCRM();

    // Vari√°veis para analytics
    let visitasChart = null;
    let analyticsData = null;

    // Carregar colunas e leads do Supabase
    let columns = [];
    let leads = [];
    async function carregarTudo() {
      updateDebugInfo('Carregando colunas e leads...');
      // Carregar colunas
      const { data: cols, error: colErr } = await supabase
        .from('kanban_columns')
        .select('*')
        .order('order', { ascending: true });
      if (colErr) {
        updateDebugInfo('Erro ao carregar colunas: ' + colErr.message);
        return;
      }
      columns = cols;
      // Carregar leads
      const { data: lds, error: leadErr } = await supabase
        .from('leads')
        .select('*')
        .order('created_at', { ascending: false });
      if (leadErr) {
        updateDebugInfo('Erro ao carregar leads: ' + leadErr.message);
        return;
      }
      leads = lds;
      renderPipeline();
    }
    // Renderizar pipeline
    function renderPipeline() {
      const pipeline = document.getElementById('pipelineContainer');
      pipeline.innerHTML = '';
      columns.forEach((col, colIdx) => {
        const colDiv = document.createElement('div');
        colDiv.className = 'pipeline-column';
        colDiv.dataset.colId = col.id;
        
        // Permitir drop tamb√©m na coluna inteira
        colDiv.ondragover = e => {
          e.preventDefault();
          e.stopPropagation();
        };
        colDiv.ondrop = async e => {
          e.preventDefault();
          e.stopPropagation();
          const leadId = e.dataTransfer.getData('lead-id');
          if (!leadId) return;
          
          updateDebugInfo(`üîÑ Movendo lead ${leadId} para coluna ${col.id} (drop na coluna)...`);
          
          try {
            const { data, error } = await supabase
              .from('leads')
              .update({ column_id: col.id })
              .eq('id', leadId)
              .select();
            
            if (error) {
              updateDebugInfo('‚ùå Erro ao mover lead: ' + error.message);
            } else {
              updateDebugInfo('‚úÖ Lead movido com sucesso!');
              setTimeout(carregarTudo, 100);
            }
          } catch (err) {
            updateDebugInfo('‚ùå Erro inesperado: ' + err.message);
          }
        };
        // Header edit√°vel
        const header = document.createElement('div');
        header.className = 'column-header';
        const title = document.createElement('div');
        title.className = 'column-title';
        title.textContent = col.name;
        title.contentEditable = true;
        title.spellcheck = false;
        title.addEventListener('blur', async e => {
          const newName = title.textContent.trim() || 'Coluna';
          if (newName !== col.name) {
            await supabase.from('kanban_columns').update({ name: newName }).eq('id', col.id);
            carregarTudo();
          }
        });
        // Bot√£o excluir coluna
        if (columns.length > 1) {
          const delBtn = document.createElement('button');
          delBtn.textContent = '‚úñ';
          delBtn.title = 'Excluir coluna';
          delBtn.style = 'background:none;border:none;color:#f87171;font-size:1.1em;cursor:pointer;margin-left:8px;';
          delBtn.onclick = async () => {
            // Remover leads dessa coluna (ou mover para a primeira coluna)
            const firstColId = columns[0].id;
            await supabase.from('leads').update({ column_id: firstColId }).eq('column_id', col.id);
            await supabase.from('kanban_columns').delete().eq('id', col.id);
            carregarTudo();
          };
          header.appendChild(delBtn);
        }
        header.appendChild(title);
        // Contador
        const count = document.createElement('div');
        count.className = 'column-count';
        count.id = `count-${col.id}`;
        header.appendChild(count);
        colDiv.appendChild(header);
        // Container de cards
        const leadsContainer = document.createElement('div');
        leadsContainer.className = 'leads-container';
        leadsContainer.id = `leads-${col.id}`;
        // Permitir drop
        leadsContainer.ondragover = e => {
          e.preventDefault();
          e.stopPropagation();
        };
        leadsContainer.ondrop = async e => {
          e.preventDefault();
          e.stopPropagation();
          const leadId = e.dataTransfer.getData('lead-id');
          if (!leadId) {
            updateDebugInfo('‚ùå Lead ID n√£o encontrado no drop');
            return;
          }
          updateDebugInfo(`üîÑ Movendo lead ${leadId} para coluna ${col.id}...`);
          
          try {
            const { data, error } = await supabase
              .from('leads')
              .update({ column_id: col.id })
              .eq('id', leadId)
              .select();
            
            if (error) {
              updateDebugInfo('‚ùå Erro ao mover lead: ' + error.message);
              console.error('Erro detalhado:', error);
            } else {
              updateDebugInfo('‚úÖ Lead movido com sucesso!');
              console.log('Lead atualizado:', data);
              // Recarregar dados ap√≥s pequeno delay para garantir que a atualiza√ß√£o foi processada
              setTimeout(carregarTudo, 100);
            }
          } catch (err) {
            updateDebugInfo('‚ùå Erro inesperado: ' + err.message);
            console.error('Erro inesperado:', err);
          }
        };
        
        // Adicionar cards
        const filtered = leads.filter(l => {
          // Se o lead tem column_id, verifica se √© igual ao da coluna
          if (l.column_id) return l.column_id === col.id;
          // Se n√£o tem column_id, s√≥ vai para a primeira coluna
          return colIdx === 0;
        });
        count.textContent = filtered.length;
        filtered.forEach(lead => {
          const card = document.createElement('div');
          card.className = 'lead-card';
          card.draggable = true;
          card.ondragstart = e => {
            e.dataTransfer.setData('lead-id', lead.id);
            updateDebugInfo(`üîÑ Iniciando arraste do lead ${lead.id}`);
            console.log('Dragging lead:', lead);
          };
          card.innerHTML = `
            <div class="lead-name">${lead.name || 'N/A'}</div>
            <div class="lead-email">${lead.email || 'N/A'}</div>
            <div class="lead-phone">${lead.phone || 'N/A'}</div>
            <div class="lead-date">${lead.created_at ? new Date(lead.created_at).toLocaleString('pt-BR') : ''}</div>
            <div class="lead-actions">
              <button class="delete-lead-btn" onclick="deleteLead('${lead.id}', '${lead.name}')">üóëÔ∏è Excluir</button>
            </div>
          `;
          leadsContainer.appendChild(card);
        });
        colDiv.appendChild(leadsContainer);
        pipeline.appendChild(colDiv);
      });
    }
    // Adicionar coluna
    document.getElementById('addColumnBtn').onclick = async () => {
      const name = prompt('Nome da nova coluna:');
      if (name && name.trim()) {
        const { data, error } = await supabase.from('kanban_columns').insert([{ name: name.trim(), order: columns.length }]).select();
        if (!error) carregarTudo();
      }
    };
    // Fun√ß√£o para excluir lead
    async function deleteLead(leadId, leadName) {
      const confirmDelete = confirm(`Tem certeza que deseja excluir o lead "${leadName}"?\n\nEsta a√ß√£o n√£o pode ser desfeita.`);
      
      if (!confirmDelete) return;
      
      updateDebugInfo(`üóëÔ∏è Excluindo lead ${leadName}...`);
      
      try {
        const { error } = await supabase
          .from('leads')
          .delete()
          .eq('id', leadId);
        
        if (error) {
          updateDebugInfo('‚ùå Erro ao excluir lead: ' + error.message);
          alert('Erro ao excluir lead: ' + error.message);
        } else {
          updateDebugInfo('‚úÖ Lead exclu√≠do com sucesso!');
          carregarTudo(); // Recarregar a lista
        }
      } catch (err) {
        updateDebugInfo('‚ùå Erro inesperado: ' + err.message);
        alert('Erro inesperado: ' + err.message);
      }
    }
    
    // Tornar a fun√ß√£o global para uso no onclick
    window.deleteLead = deleteLead;
    
    // Carregar tudo ao iniciar
    document.addEventListener('DOMContentLoaded', function() {
      updateDebugInfo('Inicializando...');
      setTimeout(carregarTudo, 500);
      
      // Carregar analytics ap√≥s um delay
      setTimeout(() => {
        carregarAnalytics();
      }, 1000);
    });
    setInterval(carregarTudo, 3000);
    
    // ===== FUN√á√ïES DE ANALYTICS =====
    
    // Fun√ß√£o para carregar analytics
    async function carregarAnalytics() {
      const periodo = parseInt(document.getElementById('periodoSelect').value);
      updateDebugInfo(`Carregando analytics dos √∫ltimos ${periodo} dias...`);
      
      try {
        // Obter dados de visitas
        const visitas = await obterEstatisticasVisitas(periodo);
        if (!visitas) {
          updateDebugInfo('‚ùå Erro ao carregar dados de visitas');
          return;
        }
        
        analyticsData = visitas;
        atualizarResumoAnalytics(visitas);
        atualizarGraficoVisitas(visitas);
        atualizarEstatisticasDispositivos(visitas);
        atualizarTopReferrers(visitas);
        
        updateDebugInfo(`‚úÖ Analytics carregados: ${visitas.length} visitas`);
      } catch (error) {
        updateDebugInfo('‚ùå Erro ao carregar analytics: ' + error.message);
      }
    }
    
    // Fun√ß√£o para atualizar resumo
    function atualizarResumoAnalytics(visitas) {
      const totalVisitas = visitas.length;
      const mediaDiaria = totalVisitas > 0 ? (totalVisitas / 30).toFixed(1) : 0;
      
      // Dispositivo mais usado
      const dispositivos = obterEstatisticasDispositivos(visitas);
      const dispositivoTop = Object.keys(dispositivos).reduce((a, b) => 
        dispositivos[a] > dispositivos[b] ? a : b, 'desktop');
      
      document.getElementById('totalVisitas').textContent = totalVisitas;
      document.getElementById('mediaDiaria').textContent = mediaDiaria;
      document.getElementById('dispositivoTop').textContent = dispositivoTop.charAt(0).toUpperCase() + dispositivoTop.slice(1);
    }
    
    // Fun√ß√£o para atualizar gr√°fico de visitas
    function atualizarGraficoVisitas(visitas) {
      console.log('üìä Dados para gr√°fico:', visitas);
      
      const visitasPorDia = agruparVisitasPorDia(visitas);
      console.log('üìä Visitas por dia:', visitasPorDia);
      
      // Preparar dados para o gr√°fico
      const labels = Object.keys(visitasPorDia).sort();
      const data = labels.map(data => visitasPorDia[data]);
      
      console.log('üìä Labels:', labels);
      console.log('üìä Data:', data);
      
      const ctx = document.getElementById('visitasChart').getContext('2d');
      
      // Destruir gr√°fico anterior se existir
      if (visitasChart) {
        visitasChart.destroy();
      }
      
      visitasChart = new Chart(ctx, {
        type: 'line',
        data: {
          labels: labels.map(data => {
            const [ano, mes, dia] = data.split('-');
            return `${dia}/${mes}`;
          }),
          datasets: [{
            label: 'Visitas',
            data: data,
            borderColor: '#fbbf24',
            backgroundColor: 'rgba(251, 191, 36, 0.2)',
            borderWidth: 2,
            fill: true,
            tension: 0.3,
            pointBackgroundColor: '#fbbf24',
            pointBorderColor: '#fff',
            pointBorderWidth: 2,
            pointRadius: 4,
            pointHoverRadius: 6
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: {
              display: false
            },
            tooltip: {
              backgroundColor: '#1e293b',
              titleColor: '#fbbf24',
              bodyColor: '#fff',
              borderColor: '#475569',
              borderWidth: 1
            }
          },
          scales: {
            x: {
              ticks: {
                color: '#fff',
                font: {
                  size: 11
                }
              },
              grid: {
                color: 'rgba(255, 255, 255, 0.1)',
                display: true
              },
              border: {
                color: 'rgba(255, 255, 255, 0.2)'
              }
            },
            y: {
              beginAtZero: true,
              ticks: {
                color: '#fff',
                font: {
                  size: 11
                },
                stepSize: 1
              },
              grid: {
                color: 'rgba(255, 255, 255, 0.1)',
                display: true
              },
              border: {
                color: 'rgba(255, 255, 255, 0.2)'
              }
            }
          },
          interaction: {
            intersect: false,
            mode: 'index'
          }
        }
      });
    }
    
    // Fun√ß√£o para atualizar estat√≠sticas por dispositivo
    function atualizarEstatisticasDispositivos(visitas) {
      const dispositivos = obterEstatisticasDispositivos(visitas);
      const container = document.getElementById('deviceStats');
      
      container.innerHTML = '';
      
      Object.entries(dispositivos).forEach(([device, count]) => {
        const percentage = ((count / visitas.length) * 100).toFixed(1);
        const deviceName = device.charAt(0).toUpperCase() + device.slice(1);
        
        const deviceCard = document.createElement('div');
        deviceCard.style.cssText = `
          background: #273548;
          border-radius: 8px;
          padding: 15px;
          text-align: center;
        `;
        
        deviceCard.innerHTML = `
          <div style="font-size: 1.5rem; margin-bottom: 5px;">${getDeviceIcon(device)}</div>
          <div style="font-weight: 700; color: #fbbf24; margin-bottom: 5px;">${deviceName}</div>
          <div style="font-size: 1.2rem; color: #fff;">${count}</div>
          <div style="font-size: 0.9rem; color: #94a3b8;">${percentage}%</div>
        `;
        
        container.appendChild(deviceCard);
      });
    }
    
    // Fun√ß√£o para obter √≠cone do dispositivo
    function getDeviceIcon(device) {
      const icons = {
        desktop: 'üñ•Ô∏è',
        mobile: 'üì±',
        tablet: 'üì±'
      };
      return icons[device] || 'üíª';
    }
    
    // Fun√ß√£o para atualizar top referrers
    function atualizarTopReferrers(visitas) {
      const referrers = obterTopReferrers(visitas);
      const container = document.getElementById('referrerStats');
      
      container.innerHTML = '';
      
      if (Object.keys(referrers).length === 0) {
        container.innerHTML = '<p style="color: #94a3b8; text-align: center;">Nenhum referrer encontrado</p>';
        return;
      }
      
      Object.entries(referrers).forEach(([domain, count], index) => {
        const percentage = ((count / visitas.length) * 100).toFixed(1);
        
        const referrerItem = document.createElement('div');
        referrerItem.style.cssText = `
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 10px 0;
          border-bottom: 1px solid #475569;
        `;
        
        referrerItem.innerHTML = `
          <div style="display: flex; align-items: center;">
            <span style="background: #fbbf24; color: #1e293b; width: 24px; height: 24px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 0.8rem; font-weight: 700; margin-right: 10px;">${index + 1}</span>
            <span style="color: #fff;">${domain}</span>
          </div>
          <div style="text-align: right;">
            <div style="color: #fbbf24; font-weight: 700;">${count}</div>
            <div style="color: #94a3b8; font-size: 0.8rem;">${percentage}%</div>
          </div>
        `;
        
        container.appendChild(referrerItem);
      });
    }
    
    // Event listeners para analytics
    document.addEventListener('DOMContentLoaded', function() {
      // Event listener para mudan√ßa de per√≠odo
      const periodoSelect = document.getElementById('periodoSelect');
      if (periodoSelect) {
        periodoSelect.addEventListener('change', carregarAnalytics);
      }
      
      // Event listener para bot√£o de atualizar
      const refreshBtn = document.getElementById('refreshAnalytics');
      if (refreshBtn) {
        refreshBtn.addEventListener('click', carregarAnalytics);
      }
    });
  </script>
</body>
</html> 